"use strict";angular.module("offClick",[]),angular.module("offClick").directive("offClick",["$rootScope","$parse","OffClickFilterCache",function(n,e,t){var c=0,o={},i=!1,r=function(n,e){if(!n||!e)return!1;for(var t=e.length,c=0;t>c;++c){var o=e[c],i=!1;try{i=o.contains(n)}catch(r){"undefined"!=typeof o.compareDocumentPosition&&(i=o===n||Boolean(16&o.compareDocumentPosition(n)))}if(i)return!0}return!1},f=function(e){if("touchmove"===e.type)return i=!0,!1;if(i)return i=!1,!1;var c=e.target||e.srcElement;angular.forEach(o,function(o,i){var f=[];o.elm.id&&""!==o.elm.id&&t["#"+o.elm.id]&&(f=f.concat(t["#"+o.elm.id])),angular.forEach(o.elm.classList,function(n){t["."+n]&&(f=f.concat(t["."+n]))}),o.elm.contains(c)||r(c,f)||n.$evalAsync(function(){o.cb(o.scope,{$event:e})})})};return document.addEventListener("touchmove",f,!0),document.addEventListener("touchend",f,!0),document.addEventListener("click",f,!0),{restrict:"A",compile:function(t,i){var r=e(i.offClick),f=c++,l=void 0,u=function(){o[f]={elm:element[0],cb:r,scope:scope}},a=function(){o[f]=null,delete o[f]};return i.offClickIf?l=n.$watch(function(){return e(i.offClickIf)(scope)},function(n){n&&u()||!n&&a()}):u(),function(n,e){n.$on("$destroy",function(){a(),l&&l(),e=null})}}}}]),angular.module("offClick").directive("offClickFilter",["OffClickFilterCache","$parse",function(n,e){var t=void 0,c=function(e){e.forEach(function(e){n[e]?n[e].push(elem[0]):n[e]=[elem[0]]})};return{restrict:"A",compile:function(o,i){return c(e(i.OffClickFilterCache).split(",").map(function(n){return n.trim()})),function(e,c){e.$on("$destroy",function(){c=null,t.forEach(function(e){n[e].length>1?n[e].splice(n[e].indexOf(o[0]),1):(n[e]=null,delete n[e])})})}}}}]),angular.module("offClick").factory("OffClickFilterCache",function(){var n={};return n});